var documenterSearchIndex = {"docs":
[{"location":"#WildlandFire.jl","page":"Home","title":"WildlandFire.jl","text":"WildlandFire.jl provides ModelingToolkit.jl-based equation systems for wildland fire behavior modeling. The package is part of the EarthSciML ecosystem.","category":"section"},{"location":"#Features","page":"Home","title":"Features","text":"Rothermel Surface Fire Spread Model: Semi-empirical model for predicting fire spread rates\nDynamic Fuel Load Transfer: Load transfer from live to dead herbaceous fuel based on curing\nLive Fuel Moisture of Extinction: Calculation of live fuel extinction moisture\nRelated Fire Behavior Models: Flame length, fireline intensity, residence time","category":"section"},{"location":"#Installation","page":"Home","title":"Installation","text":"using Pkg\nPkg.add(url=\"https://github.com/EarthSciML/WildlandFire.jl\")","category":"section"},{"location":"#Quick-Start","page":"Home","title":"Quick Start","text":"using WildlandFire\nusing ModelingToolkit\nusing NonlinearSolve\n\n# Create the Rothermel fire spread system\nsys = RothermelFireSpread()\ncompiled_sys = mtkcompile(sys)\n\n# Set parameters for short grass (Fuel Model 1) in SI units\n# Original US values: σ=3500 1/ft, w0=0.034 lb/ft², δ=1.0 ft, U=440 ft/min (5 mi/h)\nprob = NonlinearProblem(compiled_sys, Dict(\n    compiled_sys.σ => 11483.5,     # SAV ratio (1/m), converted from 3500 1/ft\n    compiled_sys.w0 => 0.166,      # Fuel load (kg/m²), converted from 0.034 lb/ft²\n    compiled_sys.δ => 0.3048,      # Fuel bed depth (m), converted from 1.0 ft\n    compiled_sys.Mx => 0.12,       # Moisture of extinction (dimensionless)\n    compiled_sys.Mf => 0.05,       # Fuel moisture content (dimensionless)\n    compiled_sys.U => 2.235,       # Wind speed (m/s), converted from 5 mi/h\n    compiled_sys.tanϕ => 0.0       # Flat terrain\n))\nsol = solve(prob)\n\n# Get results in SI units\nprintln(\"Rate of spread: \", sol[compiled_sys.R], \" m/s\")\nprintln(\"Flame length: \", sol[compiled_sys.F_L], \" m\")","category":"section"},{"location":"#Contents","page":"Home","title":"Contents","text":"Pages = [\"rothermel.md\"]\nDepth = 2","category":"section"},{"location":"#Index","page":"Home","title":"Index","text":"","category":"section"},{"location":"rothermel/#Rothermel-Surface-Fire-Spread-Model","page":"Rothermel Fire Spread Model","title":"Rothermel Surface Fire Spread Model","text":"","category":"section"},{"location":"rothermel/#Overview","page":"Rothermel Fire Spread Model","title":"Overview","text":"The Rothermel surface fire spread model is a semi-empirical model that predicts the rate of spread of surface fires in wildland fuels. Developed by Richard C. Rothermel in 1972, it remains one of the most widely used fire behavior models in the United States.\n\nThe model calculates fire spread rate based on a heat source/heat sink balance:\n\nHeat source: Energy released by the fire (reaction intensity) modified by wind and slope\nHeat sink: Energy required to raise fuel ahead of the fire to ignition temperature\n\nReference: Andrews, Patricia L. 2018. The Rothermel surface fire spread model and associated developments: A comprehensive explanation. Gen. Tech. Rep. RMRS-GTR-371. Fort Collins, CO: U.S. Department of Agriculture, Forest Service, Rocky Mountain Research Station. 121 p.","category":"section"},{"location":"rothermel/#Implementation","page":"Rothermel Fire Spread Model","title":"Implementation","text":"The Rothermel model is implemented as a ModelingToolkit.jl algebraic system. The main function RothermelFireSpread() creates a system with 26 equations representing all intermediate calculations and output variables.","category":"section"},{"location":"rothermel/#Important-Note-on-Units","page":"Rothermel Fire Spread Model","title":"Important Note on Units","text":"This implementation uses SI units throughout. The original Rothermel equations were calibrated in US customary units (ft, lb, Btu), so all empirical coefficients have been converted to SI. Key conversions from the original formulation:\n\nQuantity US Customary SI Equivalent\nLoad 1 lb/ft² 4.88 kg/m²\nLoad 1 ton/acre 0.224 kg/m²\nWind speed 1 mi/h 0.447 m/s\nWind speed 1 ft/min 0.00508 m/s\nEnergy 1 Btu 1.055 kJ\nLength 1 ft 0.305 m\nMass 1 lb 0.454 kg\nSAV ratio 1 1/ft 3.28 1/m\nDensity 1 lb/ft³ 16.02 kg/m³\nHeat content 1 Btu/lb 2326 J/kg\nPower flux 1 Btu/ft²/min 189.3 W/m²","category":"section"},{"location":"rothermel/#State-Variables","page":"Rothermel Fire Spread Model","title":"State Variables","text":"using DataFrames, ModelingToolkit, Symbolics, DynamicQuantities\nusing WildlandFire\n\nsys = RothermelFireSpread()\nvars = unknowns(sys)\nunits = [ModelingToolkit.get_unit(v) for v in vars]\nDataFrame(\n    :Name => [string(Symbolics.tosymbol(v, escape = false)) for v in vars],\n    :Units => [isnothing(u) ? \"dimensionless\" : string(u) for u in units],\n    :Description => [ModelingToolkit.getdescription(v) for v in vars]\n)","category":"section"},{"location":"rothermel/#Parameters","page":"Rothermel Fire Spread Model","title":"Parameters","text":"params = parameters(sys)\npunits = [ModelingToolkit.get_unit(p) for p in params]\nDataFrame(\n    :Name => [string(Symbolics.tosymbol(p, escape = false)) for p in params],\n    :Units => [isnothing(u) ? \"dimensionless\" : string(u) for u in punits],\n    :Description => [ModelingToolkit.getdescription(p) for p in params]\n)","category":"section"},{"location":"rothermel/#Equations","page":"Rothermel Fire Spread Model","title":"Equations","text":"equations(sys)","category":"section"},{"location":"rothermel/#Main-Equations","page":"Rothermel Fire Spread Model","title":"Main Equations","text":"The fundamental rate of spread equation is:\n\nR = fracI_R cdot xi cdot (1 + phi_w + phi_s)rho_b cdot varepsilon cdot Q_ig\n\nWhere:\n\nI_R = Reaction intensity\nxi = Propagating flux ratio\nphi_w = Wind factor\nphi_s = Slope factor\nrho_b = Bulk density\nvarepsilon = Effective heating number\nQ_ig = Heat of preignition","category":"section"},{"location":"rothermel/#Analysis","page":"Rothermel Fire Spread Model","title":"Analysis","text":"","category":"section"},{"location":"rothermel/#Example:-Fire-Spread-Under-Different-Conditions","page":"Rothermel Fire Spread Model","title":"Example: Fire Spread Under Different Conditions","text":"using WildlandFire\nusing ModelingToolkit\nusing NonlinearSolve\nusing Plots\n\n# Create the Rothermel system\nsys = RothermelFireSpread()\ncompiled_sys = mtkcompile(sys)\n\n# Unit conversion factors\nft_to_m = 0.3048\nlb_to_kg = 0.453592\nlbft2_to_kgm2 = lb_to_kg / ft_to_m^2\ninvft_to_invm = 1 / ft_to_m\nftmin_to_ms = ft_to_m / 60.0\n\n# Fuel Model 1 parameters (short grass) converted to SI\n# Original US: σ = 3500 1/ft, w0 = 0.034 lb/ft², δ = 1.0 ft, Mx = 0.12\nbase_params = Dict(\n    compiled_sys.σ => 3500.0 * invft_to_invm,      # SAV ratio (1/m)\n    compiled_sys.w0 => 0.034 * lbft2_to_kgm2,      # Fuel load (kg/m²)\n    compiled_sys.δ => 1.0 * ft_to_m,               # Fuel bed depth (m)\n    compiled_sys.Mx => 0.12,                        # Moisture of extinction\n    compiled_sys.Mf => 0.05,                        # Fuel moisture content\n    compiled_sys.tanϕ => 0.0                        # Flat terrain\n)\n\n# Calculate spread rate for different wind speeds\n# Wind speeds from 0 to ~6 mi/h in m/s\nwind_speeds_ms = [U * ftmin_to_ms for U in 0:50:500]\nspread_rates = Float64[]\n\nfor U in wind_speeds_ms\n    prob = NonlinearProblem(compiled_sys, merge(base_params, Dict(compiled_sys.U => U)))\n    sol = solve(prob)\n    push!(spread_rates, sol[compiled_sys.R])\nend\n\n# Plot results (convert wind to mi/h and spread rate to ft/min for familiar units)\nplot(wind_speeds_ms ./ 0.447,  # Convert m/s to mi/h\n     spread_rates ./ ftmin_to_ms,  # Convert m/s to ft/min\n     xlabel = \"Wind Speed (mi/h)\",\n     ylabel = \"Rate of Spread (ft/min)\",\n     title = \"Fire Spread Rate vs Wind Speed\\n(Fuel Model 1, Short Grass)\",\n     legend = false,\n     linewidth = 2,\n     marker = :circle)\nsavefig(\"wind_effect.png\"); nothing # hide\n\n(Image: Wind effect on spread rate)","category":"section"},{"location":"rothermel/#Effect-of-Fuel-Moisture","page":"Rothermel Fire Spread Model","title":"Effect of Fuel Moisture","text":"# Calculate spread rate for different fuel moisture contents\nmoisture_contents = 0.02:0.01:0.12  # 2% to 12% (extinction)\nspread_rates_moist = Float64[]\n\nU_wind = 220.0 * ftmin_to_ms  # 2.5 mi/h in m/s\n\nfor Mf in moisture_contents\n    params = merge(base_params, Dict(compiled_sys.Mf => Mf, compiled_sys.U => U_wind))\n    prob = NonlinearProblem(compiled_sys, params)\n    sol = solve(prob)\n    push!(spread_rates_moist, sol[compiled_sys.R])\nend\n\nplot(moisture_contents .* 100,\n     spread_rates_moist ./ ftmin_to_ms,\n     xlabel = \"Fuel Moisture Content (%)\",\n     ylabel = \"Rate of Spread (ft/min)\",\n     title = \"Fire Spread Rate vs Fuel Moisture\\n(Fuel Model 1, 2.5 mi/h wind)\",\n     legend = false,\n     linewidth = 2,\n     marker = :circle)\nsavefig(\"moisture_effect.png\"); nothing # hide\n\n(Image: Moisture effect on spread rate)","category":"section"},{"location":"rothermel/#Flame-Length-Prediction","page":"Rothermel Fire Spread Model","title":"Flame Length Prediction","text":"# Calculate flame length for different wind speeds\nflame_lengths = Float64[]\n\nfor U in wind_speeds_ms\n    prob = NonlinearProblem(compiled_sys, merge(base_params, Dict(compiled_sys.U => U)))\n    sol = solve(prob)\n    push!(flame_lengths, sol[compiled_sys.F_L])\nend\n\nplot(wind_speeds_ms ./ 0.447,  # Convert m/s to mi/h\n     flame_lengths ./ ft_to_m,  # Convert m to ft\n     xlabel = \"Wind Speed (mi/h)\",\n     ylabel = \"Flame Length (ft)\",\n     title = \"Flame Length vs Wind Speed\\n(Fuel Model 1, Short Grass)\",\n     legend = false,\n     linewidth = 2,\n     marker = :circle)\nsavefig(\"flame_length.png\"); nothing # hide\n\n(Image: Flame length)","category":"section"},{"location":"rothermel/#Standard-Fuel-Models","page":"Rothermel Fire Spread Model","title":"Standard Fuel Models","text":"The Rothermel model uses standardized fuel model parameters. The 13 original fuel models and 40 Scott and Burgan fuel models define typical vegetation types. For Fuel Model 1 (short grass) used in the examples above:\n\nParameter US Customary SI Value\nSAV ratio (σ) 3,500 1/ft 11,483 1/m\nFuel load (w0) 0.034 lb/ft² (0.74 ton/acre) 0.166 kg/m²\nFuel bed depth (δ) 1.0 ft 0.305 m\nMoisture of extinction (Mx) 0.12 (12%) 0.12 (12%)\nHeat content (h) 8,000 Btu/lb 18,608,000 J/kg\nParticle density (ρ_p) 32 lb/ft³ 512.6 kg/m³","category":"section"},{"location":"rothermel/#Related-Models","page":"Rothermel Fire Spread Model","title":"Related Models","text":"","category":"section"},{"location":"rothermel/#Dynamic-Fuel-Model-Load-Transfer","page":"Rothermel Fire Spread Model","title":"Dynamic Fuel Model Load Transfer","text":"The DynamicFuelLoadTransfer component simulates the curing of herbaceous fuels by transferring load from live to dead fuel categories based on live herbaceous moisture:\n\nT = -111 cdot M_flive + 133 quad (0 leq T leq 1)","category":"section"},{"location":"rothermel/#Live-Fuel-Moisture-of-Extinction","page":"Rothermel Fire Spread Model","title":"Live Fuel Moisture of Extinction","text":"The LiveFuelMoistureExtinction component calculates the moisture content at which live fuel will no longer sustain fire spread:\n\nM_xlive = maxleft(M_xdead 29 W left(1 - fracM_fdeadM_xdeadright) - 0226right)","category":"section"},{"location":"rothermel/#Wind-Limit","page":"Rothermel Fire Spread Model","title":"Wind Limit","text":"The WindLimit component calculates the maximum effective wind speed that can influence fire spread rate. The corrected equation (Andrews et al. 2013) in SI units is:\n\nU_limit = 00857 cdot I_R^13\n\nwhere U_limit is in m/s and I_R is in W/m².","category":"section"},{"location":"rothermel/#WildlandFire.RothermelFireSpread","page":"Rothermel Fire Spread Model","title":"WildlandFire.RothermelFireSpread","text":"RothermelFireSpread(; name=:RothermelFireSpread)\n\nCreate a Rothermel surface fire spread model system.\n\nThe Rothermel model is a semi-empirical model for predicting the rate of spread of surface fires in wildland fuels. It calculates the fire spread rate based on a heat source/heat sink balance, where the heat source is the reaction intensity modified by wind and slope factors, and the heat sink is the energy required to raise the fuel to ignition temperature.\n\nnote: Units\nThis implementation uses SI units. The original Rothermel equations were calibrated in US customary units, so all empirical coefficients have been converted to SI. Key unit conversions from the original formulation:Length: 1 ft = 0.3048 m\nMass: 1 lb = 0.453592 kg\nEnergy: 1 Btu = 1055.06 J\nLoad: 1 lb/ft² = 4.88243 kg/m²\nDensity: 1 lb/ft³ = 16.0185 kg/m³\n\nArguments\n\nname: System name (default: :RothermelFireSpread)\n\nModel Description\n\nThe fundamental equation is:\n\nR = IR * ξ * (1 + φw + φs) / (ρb * ε * Qig)\n\nWhere:\n\nR: Rate of spread (m/s)\nIR: Reaction intensity (W/m²)\nξ: Propagating flux ratio (dimensionless)\nφw: Wind factor (dimensionless)\nφs: Slope factor (dimensionless)\nρb: Bulk density (kg/m³)\nε: Effective heating number (dimensionless)\nQig: Heat of preignition (J/kg)\n\nReference\n\nAndrews, Patricia L. 2018. The Rothermel surface fire spread model and associated developments: A comprehensive explanation. Gen. Tech. Rep. RMRS-GTR-371. Fort Collins, CO: U.S. Department of Agriculture, Forest Service, Rocky Mountain Research Station. 121 p.\n\nExample\n\nusing ModelingToolkit, WildlandFire, OrdinaryDiffEqDefault\n\nsys = RothermelFireSpread()\ncompiled_sys = mtkcompile(sys)\n\n# Set parameters for fuel model 1 (short grass) in SI units\n# Note: This is an algebraic system, so we use NonlinearProblem\nprob = NonlinearProblem(compiled_sys, Dict(\n    compiled_sys.σ => 11483.0,     # SAV ratio (1/m), converted from 3500 1/ft\n    compiled_sys.w0 => 0.166,      # Fuel load (kg/m²), converted from 0.034 lb/ft²\n    compiled_sys.δ => 0.3048,      # Fuel bed depth (m), converted from 1.0 ft\n    compiled_sys.Mx => 0.12,       # Moisture of extinction (fraction)\n    compiled_sys.Mf => 0.05,       # Fuel moisture content (fraction)\n    compiled_sys.U => 2.235,       # Wind speed (m/s), converted from 5 mi/h\n    compiled_sys.tanϕ => 0.0       # Slope (flat)\n))\nsol = solve(prob)\n\n\n\n\n\n","category":"function"},{"location":"rothermel/#WildlandFire.DynamicFuelLoadTransfer","page":"Rothermel Fire Spread Model","title":"WildlandFire.DynamicFuelLoadTransfer","text":"DynamicFuelLoadTransfer(; name=:DynamicFuelLoadTransfer)\n\nCreate a dynamic fuel model load transfer system.\n\nDynamic fuel models transfer load from live herbaceous fuel to dead herbaceous fuel based on the live herbaceous fuel moisture content. This simulates the curing of herbaceous fuels as they dry out during the fire season.\n\nTransfer Equation\n\nThe fraction of live herbaceous load transferred to dead herbaceous is:\n\nT = -1.11 * Mf_live_herb + 1.33    (0 ≤ T ≤ 1.0)\n\nWhere Mf_live_herb is the live herbaceous fuel moisture content (fraction).\n\nReference\n\nAndrews, Patricia L. 2018. The Rothermel surface fire spread model and associated developments: A comprehensive explanation. Gen. Tech. Rep. RMRS-GTR-371. Fort Collins, CO: U.S. Department of Agriculture, Forest Service, Rocky Mountain Research Station. 121 p.\n\n\n\n\n\n","category":"function"},{"location":"rothermel/#WildlandFire.LiveFuelMoistureExtinction","page":"Rothermel Fire Spread Model","title":"WildlandFire.LiveFuelMoistureExtinction","text":"LiveFuelMoistureExtinction(; name=:LiveFuelMoistureExtinction)\n\nCreate a system for calculating live fuel moisture of extinction.\n\nThe live fuel moisture of extinction is calculated based on the ratio of dead to live fuel loading weighted by effective heating numbers, and the dead fuel moisture content.\n\nReference\n\nAndrews, Patricia L. 2018. The Rothermel surface fire spread model and associated developments: A comprehensive explanation. Gen. Tech. Rep. RMRS-GTR-371. Fort Collins, CO: U.S. Department of Agriculture, Forest Service, Rocky Mountain Research Station. 121 p.\n\n\n\n\n\n","category":"function"},{"location":"rothermel/#WildlandFire.EffectiveMidflameWindSpeed","page":"Rothermel Fire Spread Model","title":"WildlandFire.EffectiveMidflameWindSpeed","text":"EffectiveMidflameWindSpeed(; name=:EffectiveMidflameWindSpeed)\n\nCreate a system for calculating effective midflame wind speed.\n\nThe effective midflame wind speed combines the effects of actual wind and slope into an equivalent wind speed for fire behavior calculations.\n\nReference\n\nAndrews, Patricia L. 2018. The Rothermel surface fire spread model and associated developments: A comprehensive explanation. Gen. Tech. Rep. RMRS-GTR-371. Fort Collins, CO: U.S. Department of Agriculture, Forest Service, Rocky Mountain Research Station. 121 p.\n\n\n\n\n\n","category":"function"},{"location":"rothermel/#WildlandFire.WindLimit","page":"Rothermel Fire Spread Model","title":"WildlandFire.WindLimit","text":"WindLimit(; name=:WindLimit, use_corrected=true)\n\nCreate a system for calculating the maximum effective wind speed limit.\n\nThe wind limit represents the maximum effective wind speed that can influence fire spread rate. Beyond this limit, the wind factor is capped.\n\nArguments\n\nuse_corrected: If true (default), use the corrected equation from Andrews et al. 2013.                  If false, use the original equation.\n\nReference\n\nAndrews, Patricia L. 2018. The Rothermel surface fire spread model and associated developments: A comprehensive explanation. Gen. Tech. Rep. RMRS-GTR-371. Fort Collins, CO: U.S. Department of Agriculture, Forest Service, Rocky Mountain Research Station. 121 p.\n\n\n\n\n\n","category":"function"}]
}
