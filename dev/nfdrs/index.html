<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>NFDRS · WildlandFire.jl</title><meta name="title" content="NFDRS · WildlandFire.jl"/><meta property="og:title" content="NFDRS · WildlandFire.jl"/><meta property="twitter:title" content="NFDRS · WildlandFire.jl"/><meta name="description" content="Documentation for WildlandFire.jl."/><meta property="og:description" content="Documentation for WildlandFire.jl."/><meta property="twitter:description" content="Documentation for WildlandFire.jl."/><meta property="og:url" content="https://wildlandfire.earthsci.dev/nfdrs/"/><meta property="twitter:url" content="https://wildlandfire.earthsci.dev/nfdrs/"/><link rel="canonical" href="https://wildlandfire.earthsci.dev/nfdrs/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">WildlandFire.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>NFDRS</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#Implementation"><span>Implementation</span></a></li><li><a class="tocitem" href="#Dead-Fuel-Moisture-Models"><span>Dead Fuel Moisture Models</span></a></li><li><a class="tocitem" href="#Live-Fuel-Moisture-Models"><span>Live Fuel Moisture Models</span></a></li><li><a class="tocitem" href="#Fuel-Loading-Transfer"><span>Fuel Loading Transfer</span></a></li><li><a class="tocitem" href="#Fire-Behavior-Indices"><span>Fire Behavior Indices</span></a></li><li><a class="tocitem" href="#Fire-Occurrence-Indices"><span>Fire Occurrence Indices</span></a></li><li><a class="tocitem" href="#Fuel-Models"><span>Fuel Models</span></a></li><li><a class="tocitem" href="#Analysis"><span>Analysis</span></a></li></ul></li><li><a class="tocitem" href="../rothermel/">Rothermel Fire Spread Model</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>NFDRS</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>NFDRS</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="National-Fire-Danger-Rating-System-(NFDRS)"><a class="docs-heading-anchor" href="#National-Fire-Danger-Rating-System-(NFDRS)">National Fire Danger Rating System (NFDRS)</a><a id="National-Fire-Danger-Rating-System-(NFDRS)-1"></a><a class="docs-heading-anchor-permalink" href="#National-Fire-Danger-Rating-System-(NFDRS)" title="Permalink"></a></h1><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>The National Fire Danger Rating System (NFDRS) is a comprehensive system for assessing fire danger across wildlands in the United States. This implementation provides ModelingToolkit.jl components for the NFDRS equations, enabling integration with other Earth system models.</p><p><strong>Reference</strong>: Cohen, Jack D.; Deeming, John E. &quot;The National Fire-Danger Rating System: basic equations.&quot; Gen. Tech. Rep. PSW-82. Berkeley, CA: Pacific Southwest Forest and Range Experiment Station, Forest Service, U.S. Department of Agriculture; 1985. 16 p.</p><article><details class="docstring" open="true"><summary id="WildlandFire.EquilibriumMoistureContent"><a class="docstring-binding" href="#WildlandFire.EquilibriumMoistureContent"><code>WildlandFire.EquilibriumMoistureContent</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">EquilibriumMoistureContent(; name=:EquilibriumMoistureContent)</code></pre><p>Calculate equilibrium moisture content (EMC) from temperature and relative humidity.</p><p>Based on regression equations developed by Simard (1968) from Wood Handbook tables. EMC is expressed as fraction moisture content (dimensionless).</p><p>Implements Equations 1a, 1b, 1c from Cohen &amp; Deeming (1985), page 1.</p><p><strong>Parameters</strong></p><ul><li><code>TEMP</code>: Dry bulb temperature (K)</li><li><code>RH</code>: Relative humidity (dimensionless, 0-1)</li></ul><p><strong>Variables</strong></p><ul><li><code>EMC</code>: Equilibrium moisture content (dimensionless)</li></ul></div></section></details></article><h2 id="Implementation"><a class="docs-heading-anchor" href="#Implementation">Implementation</a><a id="Implementation-1"></a><a class="docs-heading-anchor-permalink" href="#Implementation" title="Permalink"></a></h2><p>This section demonstrates the structure of the NFDRS ModelingToolkit.jl components.</p><h3 id="Unit-Convention"><a class="docs-heading-anchor" href="#Unit-Convention">Unit Convention</a><a id="Unit-Convention-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-Convention" title="Permalink"></a></h3><p>This implementation uses <strong>SI units</strong> throughout for compatibility with other EarthSciML components:</p><table><tr><th style="text-align: right">Quantity</th><th style="text-align: right">SI Unit</th><th style="text-align: right">Original NFDRS Unit</th></tr><tr><td style="text-align: right">Temperature</td><td style="text-align: right">K (Kelvin)</td><td style="text-align: right">°F (Fahrenheit)</td></tr><tr><td style="text-align: right">Fuel loading</td><td style="text-align: right">kg/m²</td><td style="text-align: right">tons/acre, lb/ft²</td></tr><tr><td style="text-align: right">Fuel bed depth</td><td style="text-align: right">m</td><td style="text-align: right">ft</td></tr><tr><td style="text-align: right">SAV ratio</td><td style="text-align: right">m⁻¹</td><td style="text-align: right">ft⁻¹</td></tr><tr><td style="text-align: right">Heat of combustion</td><td style="text-align: right">J/kg</td><td style="text-align: right">Btu/lb</td></tr><tr><td style="text-align: right">Wind speed</td><td style="text-align: right">m/s</td><td style="text-align: right">mph</td></tr><tr><td style="text-align: right">Rate of spread</td><td style="text-align: right">m/s</td><td style="text-align: right">ft/min</td></tr><tr><td style="text-align: right">Moisture content</td><td style="text-align: right">dimensionless (0-1)</td><td style="text-align: right">percent</td></tr><tr><td style="text-align: right">Density</td><td style="text-align: right">kg/m³</td><td style="text-align: right">lb/ft³</td></tr></table><p>The original NFDRS equations use imperial units. All empirical coefficients have been converted to SI units, with conversion factors explicitly defined in the source code.</p><h3 id="Equilibrium-Moisture-Content-System"><a class="docs-heading-anchor" href="#Equilibrium-Moisture-Content-System">Equilibrium Moisture Content System</a><a id="Equilibrium-Moisture-Content-System-1"></a><a class="docs-heading-anchor-permalink" href="#Equilibrium-Moisture-Content-System" title="Permalink"></a></h3><p>The EMC component calculates equilibrium moisture content using regression equations (Eq. 1a, 1b, 1c from Cohen &amp; Deeming 1985):</p><pre><code class="language-julia hljs">using WildlandFire
using ModelingToolkit
using DataFrames
using Symbolics
using DynamicQuantities

emc = EquilibriumMoistureContent()

# Parameters
params = parameters(emc)
DataFrame(
    :Name =&gt; [string(Symbolics.tosymbol(p, escape = false)) for p in params],
    :Units =&gt; [string(dimension(ModelingToolkit.get_unit(p))) for p in params],
    :Description =&gt; [ModelingToolkit.getdescription(p) for p in params]
)</code></pre><div><div style = "float: left;"><span>4×3 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "columnLabelRow"><th class = "stubheadLabel" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">Name</th><th style = "text-align: left;">Units</th><th style = "text-align: left;">Description</th></tr><tr class = "columnLabelRow"><th class = "stubheadLabel" style = "font-weight: bold; text-align: right;"></th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th></tr></thead><tbody><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: left;">RH</td><td style = "text-align: left;"></td><td style = "text-align: left;">Relative humidity (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: left;">K_to_F_offset</td><td style = "text-align: left;"></td><td style = "text-align: left;">Kelvin to Fahrenheit offset (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: left;">TEMP</td><td style = "text-align: left;">K</td><td style = "text-align: left;">Dry bulb temperature</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: left;">K_ref</td><td style = "text-align: left;">K</td><td style = "text-align: left;">Reference temperature for non-dimensionalization</td></tr></tbody></table></div><pre><code class="language-julia hljs"># Variables
vars = unknowns(emc)
DataFrame(
    :Name =&gt; [string(Symbolics.tosymbol(v, escape = false)) for v in vars],
    :Units =&gt; [string(dimension(ModelingToolkit.get_unit(v))) for v in vars],
    :Description =&gt; [ModelingToolkit.getdescription(v) for v in vars]
)</code></pre><div><div style = "float: left;"><span>1×3 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "columnLabelRow"><th class = "stubheadLabel" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">Name</th><th style = "text-align: left;">Units</th><th style = "text-align: left;">Description</th></tr><tr class = "columnLabelRow"><th class = "stubheadLabel" style = "font-weight: bold; text-align: right;"></th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th></tr></thead><tbody><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: left;">EMC</td><td style = "text-align: left;"></td><td style = "text-align: left;">Equilibrium moisture content (dimensionless)</td></tr></tbody></table></div><h3 id="Equations"><a class="docs-heading-anchor" href="#Equations">Equations</a><a id="Equations-1"></a><a class="docs-heading-anchor-permalink" href="#Equations" title="Permalink"></a></h3><p>The EMC equations (Eq. 1a, 1b, 1c from Cohen &amp; Deeming 1985):</p><pre><code class="language-julia hljs">equations(emc)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1-element Vector{Symbolics.Equation}:
 EMC(t) ~ ifelse(RH &lt; <span class="sgr34">0.1</span>, (<span class="sgr34">0.03229</span> + <span class="sgr34">28.107300000000002</span>RH - <span class="sgr34">0.0578</span>(-K_to_F_offset + (<span class="sgr34">9</span>TEMP) / (<span class="sgr34">5</span>K_ref))*RH) / <span class="sgr34">100</span>, ifelse(RH &lt; <span class="sgr34">0.5</span>, (<span class="sgr34">2.22749</span> - <span class="sgr34">0.014784</span>(-K_to_F_offset + (<span class="sgr34">9</span>TEMP) / (<span class="sgr34">5</span>K_ref)) + <span class="sgr34">16.0107</span>RH) / <span class="sgr34">100</span>, (<span class="sgr34">21.0606</span> - <span class="sgr34">48.3199</span>RH - <span class="sgr34">0.034999999999999996</span>(-K_to_F_offset + (<span class="sgr34">9</span>TEMP) / (<span class="sgr34">5</span>K_ref))*RH + <span class="sgr34">55.65</span>(RH^<span class="sgr34">2</span>)) / <span class="sgr34">100</span>))</code></pre><h2 id="Dead-Fuel-Moisture-Models"><a class="docs-heading-anchor" href="#Dead-Fuel-Moisture-Models">Dead Fuel Moisture Models</a><a id="Dead-Fuel-Moisture-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Dead-Fuel-Moisture-Models" title="Permalink"></a></h2><h3 id="1-Hour-Timelag-Fuel-Moisture"><a class="docs-heading-anchor" href="#1-Hour-Timelag-Fuel-Moisture">1-Hour Timelag Fuel Moisture</a><a id="1-Hour-Timelag-Fuel-Moisture-1"></a><a class="docs-heading-anchor-permalink" href="#1-Hour-Timelag-Fuel-Moisture" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="WildlandFire.OneHourFuelMoisture"><a class="docstring-binding" href="#WildlandFire.OneHourFuelMoisture"><code>WildlandFire.OneHourFuelMoisture</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">OneHourFuelMoisture(; name=:OneHourFuelMoisture)</code></pre><p>Calculate 1-hour timelag fuel moisture content.</p><p>The response of 1-hour timelag fuels to environmental changes is so rapid that only the potential moisture content (equivalent to EMC at fuel-atmosphere interface) is required.</p><p>From Cohen &amp; Deeming (1985), page 3:</p><ul><li>When fuel moisture sticks are not used: MC1 = 1.03 × EMCPRM</li><li>When fuel moisture sticks are used: MC1 = (4.0 × EMCPRM + MC10) / 5.0</li><li>If raining at observation time: MC1 = 35%</li></ul><p><strong>Parameters</strong></p><ul><li><code>EMCPRM</code>: EMC at fuel-atmosphere interface (dimensionless)</li><li><code>MC10</code>: 10-hour fuel moisture content (dimensionless), used when fuel sticks are used</li><li><code>use_fuel_sticks</code>: Flag (1 if fuel sticks used, 0 otherwise) (dimensionless)</li><li><code>is_raining</code>: Flag (1 if raining, 0 otherwise) (dimensionless)</li></ul><p><strong>Variables</strong></p><ul><li><code>MC1</code>: 1-hour fuel moisture content (dimensionless)</li></ul></div></section></details></article><h3 id="10-Hour-Timelag-Fuel-Moisture"><a class="docs-heading-anchor" href="#10-Hour-Timelag-Fuel-Moisture">10-Hour Timelag Fuel Moisture</a><a id="10-Hour-Timelag-Fuel-Moisture-1"></a><a class="docs-heading-anchor-permalink" href="#10-Hour-Timelag-Fuel-Moisture" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="WildlandFire.TenHourFuelMoisture"><a class="docstring-binding" href="#WildlandFire.TenHourFuelMoisture"><code>WildlandFire.TenHourFuelMoisture</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">TenHourFuelMoisture(; name=:TenHourFuelMoisture)</code></pre><p>Calculate 10-hour timelag fuel moisture content.</p><p>From Cohen &amp; Deeming (1985), page 4:</p><ul><li>Without fuel sticks: MC10 = 1.28 × EMCPRM</li><li>With fuel sticks: MC10 = AA×CC + BB×CC×(WT - 100.0) where age correction factors are based on Haines and Frost (1978):<ul><li>AA = 0.5 × AGE / 30.0</li><li>BB = 1.0 + (0.02 × AGE / 30.0)</li><li>CC = CLIMAT / 4.0</li></ul></li></ul><p><strong>Parameters</strong></p><ul><li><code>EMCPRM</code>: EMC at fuel-atmosphere interface (dimensionless)</li><li><code>use_fuel_sticks</code>: Flag (1 if fuel sticks used, 0 otherwise) (dimensionless)</li><li><code>WT</code>: Weight of fuel sticks (kg)</li><li><code>AGE</code>: Days since sticks were set out (dimensionless)</li><li><code>CLIMAT</code>: NFDRS climate class 1-4 (dimensionless)</li></ul><p><strong>Variables</strong></p><ul><li><code>MC10</code>: 10-hour fuel moisture content (dimensionless)</li></ul></div></section></details></article><h3 id="100-Hour-Timelag-Fuel-Moisture"><a class="docs-heading-anchor" href="#100-Hour-Timelag-Fuel-Moisture">100-Hour Timelag Fuel Moisture</a><a id="100-Hour-Timelag-Fuel-Moisture-1"></a><a class="docs-heading-anchor-permalink" href="#100-Hour-Timelag-Fuel-Moisture" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="WildlandFire.HundredHourFuelMoisture"><a class="docstring-binding" href="#WildlandFire.HundredHourFuelMoisture"><code>WildlandFire.HundredHourFuelMoisture</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">HundredHourFuelMoisture(; name=:HundredHourFuelMoisture)</code></pre><p>Calculate 100-hour timelag fuel moisture content using daily discrete update.</p><p>Uses weighted 24-hour average EMC (EMCBAR) based on hours of daylight. The moisture content responds to the boundary condition with a response coefficient.</p><p>From Cohen &amp; Deeming (1985), page 4-5:</p><ul><li>EMCBAR = (DAYLIT × EMCMIN + (24 - DAYLIT) × EMCMAX) / 24</li><li>BNDRYH = ((24 - PPTDUR) × EMCBAR + PPTDUR × (0.5×PPTDUR + 41)) / 24</li><li>MC100 = YMC100 + (BNDRYH - YMC100) × (1.0 - 0.87 × exp(-0.24))</li></ul><p><strong>Parameters</strong></p><ul><li><code>EMCMIN</code>: EMC at max temp/min RH (dimensionless)</li><li><code>EMCMAX</code>: EMC at min temp/max RH (dimensionless)</li><li><code>PPTDUR</code>: Duration of precipitation (s)</li><li><code>LAT</code>: Station latitude (rad)</li><li><code>JDATE</code>: Julian day of year 1-366 (dimensionless)</li><li><code>YMC100</code>: Previous day&#39;s MC100 value (dimensionless)</li></ul><p><strong>Variables</strong></p><ul><li><code>MC100</code>: 100-hour fuel moisture content (dimensionless)</li><li><code>EMCBAR</code>: Weighted 24-hour average EMC (dimensionless)</li><li><code>BNDRYH</code>: Weighted 24-hour average boundary condition (dimensionless)</li></ul></div></section></details></article><h3 id="1000-Hour-Timelag-Fuel-Moisture"><a class="docs-heading-anchor" href="#1000-Hour-Timelag-Fuel-Moisture">1000-Hour Timelag Fuel Moisture</a><a id="1000-Hour-Timelag-Fuel-Moisture-1"></a><a class="docs-heading-anchor-permalink" href="#1000-Hour-Timelag-Fuel-Moisture" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="WildlandFire.ThousandHourFuelMoisture"><a class="docstring-binding" href="#WildlandFire.ThousandHourFuelMoisture"><code>WildlandFire.ThousandHourFuelMoisture</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">ThousandHourFuelMoisture(; name=:ThousandHourFuelMoisture)</code></pre><p>Calculate 1000-hour timelag fuel moisture content using daily discrete update.</p><p>Uses 7-day running average of boundary conditions (BDYBAR). From Cohen &amp; Deeming (1985), page 5:</p><ul><li>BNDRYT = ((24 - PPTDUR) × EMCBAR + PPTDUR × (2.7×PPTDUR + 76)) / 24</li><li>MC1000 = PM1000 + (BDYBAR - PM1000) × (1.0 - 0.82 × exp(-0.168))</li></ul><p>Note: In the original NFDRS, BNDRYT is calculated daily but BDYBAR and MC1000 are calculated only every seventh day. This implementation calculates daily with the running average provided as a parameter.</p><p><strong>Parameters</strong></p><ul><li><code>EMCBAR</code>: Weighted 24-hour average EMC (dimensionless)</li><li><code>PPTDUR</code>: Duration of precipitation (s)</li><li><code>BDYBAR</code>: 7-day running average boundary condition (dimensionless)</li><li><code>PM1000</code>: Previous MC1000 value (dimensionless) - MC1000 from 7 days ago in original NFDRS</li></ul><p><strong>Variables</strong></p><ul><li><code>MC1000</code>: 1000-hour fuel moisture content (dimensionless)</li><li><code>BNDRYT</code>: Weighted 24-hour average boundary condition for 1000-hr (dimensionless)</li></ul></div></section></details></article><h2 id="Live-Fuel-Moisture-Models"><a class="docs-heading-anchor" href="#Live-Fuel-Moisture-Models">Live Fuel Moisture Models</a><a id="Live-Fuel-Moisture-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Live-Fuel-Moisture-Models" title="Permalink"></a></h2><h3 id="Herbaceous-Fuel-Moisture"><a class="docs-heading-anchor" href="#Herbaceous-Fuel-Moisture">Herbaceous Fuel Moisture</a><a id="Herbaceous-Fuel-Moisture-1"></a><a class="docs-heading-anchor-permalink" href="#Herbaceous-Fuel-Moisture" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="WildlandFire.HerbaceousFuelMoisture"><a class="docstring-binding" href="#WildlandFire.HerbaceousFuelMoisture"><code>WildlandFire.HerbaceousFuelMoisture</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">HerbaceousFuelMoisture(; name=:HerbaceousFuelMoisture)</code></pre><p>Calculate herbaceous fuel moisture content (MCHERB).</p><p>The model tracks five stages: pregreen, greenup, green, transition, and cured/frozen. MCHERB is a function of X1000 (modified 1000-hr moisture), herbaceous type (annual/perennial), and NFDRS climate class.</p><p>From Cohen &amp; Deeming (1985), pages 6-8:</p><ul><li>Greenup: MCHERB = MCHRBI + (MCHRBP - MCHRBI) × GREN</li><li>Green: MCHERB = HERBGA + HERBGB × X1000</li><li>Transition (annuals): MCHERB = ANNTA + ANNTB × X1000</li><li>Transition (perennials): MCHERB = PERTA + PERTB × X1000</li></ul><p>Climate-dependent parameters (page 7): | Climate | HERBGA | HERBGB | ANNTA  | ANNTB | PERTA | PERTB | |––––-|––––|––––|––––|–––-|–––-|–––-| | 1       | -70.0  | 12.8   | -150.5 | 18.4  | 11.2  | 7.4   | | 2       | -100.0 | 14.0   | -187.7 | 19.6  | -10.3 | 8.3   | | 3       | -137.5 | 15.5   | -245.2 | 22.0  | -42.7 | 9.8   | | 4       | -185.0 | 17.4   | -305.2 | 24.3  | -93.5 | 12.2  |</p><p><strong>Parameters</strong></p><ul><li><code>X1000</code>: Modified 1000-hr moisture for herbaceous model (dimensionless)</li><li><code>MC1</code>: 1-hour fuel moisture content (dimensionless)</li><li><code>CLIMAT</code>: NFDRS climate class 1-4 (dimensionless)</li><li><code>is_annual</code>: Flag: 1 if annual, 0 if perennial (dimensionless)</li><li><code>GRNDAY</code>: Days since greenup started (dimensionless)</li><li><code>is_greenup</code>: Flag: 1 if in greenup, 0 otherwise (dimensionless)</li><li><code>is_cured</code>: Flag: 1 if cured/frozen, 0 otherwise (dimensionless)</li></ul><p><strong>Variables</strong></p><ul><li><code>MCHERB</code>: Herbaceous fuel moisture content (dimensionless)</li></ul></div></section></details></article><h3 id="Woody-Fuel-Moisture"><a class="docs-heading-anchor" href="#Woody-Fuel-Moisture">Woody Fuel Moisture</a><a id="Woody-Fuel-Moisture-1"></a><a class="docs-heading-anchor-permalink" href="#Woody-Fuel-Moisture" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="WildlandFire.WoodyFuelMoisture"><a class="docstring-binding" href="#WildlandFire.WoodyFuelMoisture"><code>WildlandFire.WoodyFuelMoisture</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">WoodyFuelMoisture(; name=:WoodyFuelMoisture)</code></pre><p>Calculate woody shrub fuel moisture content (MCWOOD).</p><p>The model has four stages: pregreen, greenup, green, and frozen. MCWOOD is a function of MC1000 and NFDRS climate class.</p><p>From Cohen &amp; Deeming (1985), pages 8-9:</p><ul><li>Pregreen: MCWOOD = PREGRN</li><li>Greenup: MCWOOD = MCWODI + (MCWODP - MCWODI) × GREN</li><li>Green: MCWOOD = WOODGA + WOODGB × MC1000</li></ul><p>Climate-dependent parameters (page 8): | Climate | PREGRN | WOODGA | WOODGB | |––––-|––––|––––|––––| | 1       | 50%    | 12.5   | 7.5    | | 2       | 60%    | -5.0   | 8.2    | | 3       | 70%    | -22.5  | 8.9    | | 4       | 80%    | -45.0  | 9.8    |</p><p><strong>Parameters</strong></p><ul><li><code>MC1000</code>: 1000-hour fuel moisture content (dimensionless)</li><li><code>CLIMAT</code>: NFDRS climate class 1-4 (dimensionless)</li><li><code>GRNDAY</code>: Days since greenup started (dimensionless)</li><li><code>is_greenup</code>: Flag: 1 if in greenup, 0 otherwise (dimensionless)</li><li><code>is_frozen</code>: Flag: 1 if frozen/dormant, 0 otherwise (dimensionless)</li></ul><p><strong>Variables</strong></p><ul><li><code>MCWOOD</code>: Woody fuel moisture content (dimensionless)</li></ul></div></section></details></article><h2 id="Fuel-Loading-Transfer"><a class="docs-heading-anchor" href="#Fuel-Loading-Transfer">Fuel Loading Transfer</a><a id="Fuel-Loading-Transfer-1"></a><a class="docs-heading-anchor-permalink" href="#Fuel-Loading-Transfer" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="WildlandFire.FuelLoadingTransfer"><a class="docstring-binding" href="#WildlandFire.FuelLoadingTransfer"><code>WildlandFire.FuelLoadingTransfer</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">FuelLoadingTransfer(; name=:FuelLoadingTransfer)</code></pre><p>Calculate the transfer of herbaceous fuel loading to 1-hour dead fuel class based on herbaceous moisture content (curing).</p><p>Implements Equations 5, 6, 7, 8 from Cohen &amp; Deeming (1985), page 7:</p><ul><li>Eq. 5: FCTCUR = 1.33 - 0.0111 × MCHERB (where MCHERB in percent)</li><li>Eq. 6: WHERBC = FCTCUR × WHERB</li><li>Eq. 7: W1P = W1 + WHERBC</li><li>Eq. 8: WHERBP = WHERB - WHERBC</li></ul><p><strong>Parameters</strong></p><ul><li><code>MCHERB</code>: Herbaceous fuel moisture content (dimensionless)</li><li><code>W1</code>: Base 1-hour fuel loading (kg/m²)</li><li><code>WHERB</code>: Herbaceous fuel loading (kg/m²)</li></ul><p><strong>Variables</strong></p><ul><li><code>FCTCUR</code>: Fraction transferred to 1-hour class (dimensionless)</li><li><code>WHERBC</code>: Herbaceous loading transferred (kg/m²)</li><li><code>W1P</code>: Effective 1-hour fuel loading (kg/m²)</li><li><code>WHERBP</code>: Remaining herbaceous loading (kg/m²)</li></ul></div></section></details></article><h2 id="Fire-Behavior-Indices"><a class="docs-heading-anchor" href="#Fire-Behavior-Indices">Fire Behavior Indices</a><a id="Fire-Behavior-Indices-1"></a><a class="docs-heading-anchor-permalink" href="#Fire-Behavior-Indices" title="Permalink"></a></h2><h3 id="Spread-Component"><a class="docs-heading-anchor" href="#Spread-Component">Spread Component</a><a id="Spread-Component-1"></a><a class="docs-heading-anchor-permalink" href="#Spread-Component" title="Permalink"></a></h3><p>The Spread Component is the most complex subsystem, implementing Rothermel&#39;s fire spread model:</p><article><details class="docstring" open="true"><summary id="WildlandFire.SpreadComponent"><a class="docstring-binding" href="#WildlandFire.SpreadComponent"><code>WildlandFire.SpreadComponent</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SpreadComponent(; name=:SpreadComponent)</code></pre><p>Calculate the NFDRS Spread Component (SC) based on Rothermel&#39;s fire spread model.</p><p>The SC is the forward rate of spread of the flaming front in m/s. Implements equations from pages 9-11 of Cohen &amp; Deeming (1985).</p><p>Based on Rothermel (1972) as modified by Albini (1976).</p><p><strong>Parameters</strong></p><p>Fuel loadings (kg/m²):</p><ul><li><code>W1P</code>: 1-hour fuel loading (including transferred herbaceous)</li><li><code>W10</code>: 10-hour fuel loading</li><li><code>W100</code>: 100-hour fuel loading</li><li><code>WHERBP</code>: Remaining herbaceous loading</li><li><code>WWOOD</code>: Woody fuel loading</li></ul><p>Surface-area-to-volume ratios (m⁻¹):</p><ul><li><code>SG1</code>, <code>SG10</code>, <code>SG100</code>: Dead fuel SAV ratios</li><li><code>SGHERB</code>, <code>SGWOOD</code>: Live fuel SAV ratios</li></ul><p>Other parameters:</p><ul><li><code>MC1</code>, <code>MC10</code>, <code>MC100</code>: Dead fuel moisture contents (dimensionless)</li><li><code>MCHERB</code>, <code>MCWOOD</code>: Live fuel moisture contents (dimensionless)</li><li><code>MXD</code>: Dead fuel moisture of extinction (percent)</li><li><code>HD</code>, <code>HL</code>: Heat of combustion (J/kg) for dead and live fuels</li><li><code>DEPTH</code>: Fuel bed depth (m)</li><li><code>WS</code>: 20-ft windspeed (m/s)</li><li><code>WNDFC</code>: Wind reduction factor (dimensionless)</li><li><code>slope_class</code>: NFDRS slope class 1-5 (dimensionless)</li><li><code>fuels_wet</code>: Flag: 1 if fuels wet or snow-covered (dimensionless)</li></ul><p><strong>Variables</strong></p><ul><li><code>SC</code>: Spread component (m/s)</li><li><code>ROS</code>: Rate of spread (m/s)</li><li><code>IR</code>: Reaction intensity (W/m²)</li></ul></div></section></details></article><pre><code class="language-julia hljs">sc = SpreadComponent()

# Parameters with units
params = parameters(sc)
DataFrame(
    :Name =&gt; [string(Symbolics.tosymbol(p, escape = false)) for p in params],
    :Units =&gt; [string(dimension(ModelingToolkit.get_unit(p))) for p in params],
    :Description =&gt; [ModelingToolkit.getdescription(p) for p in params]
)</code></pre><div><div style = "float: left;"><span>43×3 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "columnLabelRow"><th class = "stubheadLabel" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">Name</th><th style = "text-align: left;">Units</th><th style = "text-align: left;">Description</th></tr><tr class = "columnLabelRow"><th class = "stubheadLabel" style = "font-weight: bold; text-align: right;"></th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th></tr></thead><tbody><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: left;">kg_m2_to_lb_ft2</td><td style = "text-align: left;"></td><td style = "text-align: left;">kg/m² to lb/ft² conversion (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: left;">W10</td><td style = "text-align: left;">m⁻² kg</td><td style = "text-align: left;">10-hour fuel loading</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: left;">W_ref</td><td style = "text-align: left;">m⁻² kg</td><td style = "text-align: left;">Reference fuel loading for non-dimensionalization</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: left;">W100</td><td style = "text-align: left;">m⁻² kg</td><td style = "text-align: left;">100-hour fuel loading</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: left;">W1P</td><td style = "text-align: left;">m⁻² kg</td><td style = "text-align: left;">1-hour fuel loading including transferred herb</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: left;">WHERBP</td><td style = "text-align: left;">m⁻² kg</td><td style = "text-align: left;">Remaining herbaceous loading</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: left;">WWOOD</td><td style = "text-align: left;">m⁻² kg</td><td style = "text-align: left;">Woody fuel loading</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: left;">SG10</td><td style = "text-align: left;">m⁻¹</td><td style = "text-align: left;">10-hour fuel SAV ratio</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">9</td><td style = "text-align: left;">ft_to_m</td><td style = "text-align: left;"></td><td style = "text-align: left;">Feet to meters conversion (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">10</td><td style = "text-align: left;">SG_ref</td><td style = "text-align: left;">m⁻¹</td><td style = "text-align: left;">Reference SAV ratio for non-dimensionalization</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">11</td><td style = "text-align: left;">RHOD_imp</td><td style = "text-align: left;"></td><td style = "text-align: left;">Dead fuel particle density, lb/ft³ (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">12</td><td style = "text-align: left;">SG1</td><td style = "text-align: left;">m⁻¹</td><td style = "text-align: left;">1-hour fuel SAV ratio</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">13</td><td style = "text-align: left;">SG100</td><td style = "text-align: left;">m⁻¹</td><td style = "text-align: left;">100-hour fuel SAV ratio</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">14</td><td style = "text-align: left;">SGHERB</td><td style = "text-align: left;">m⁻¹</td><td style = "text-align: left;">Herbaceous fuel SAV ratio</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">15</td><td style = "text-align: left;">RHOL_imp</td><td style = "text-align: left;"></td><td style = "text-align: left;">Live fuel particle density, lb/ft³ (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">16</td><td style = "text-align: left;">SGWOOD</td><td style = "text-align: left;">m⁻¹</td><td style = "text-align: left;">Woody fuel SAV ratio</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">17</td><td style = "text-align: left;">DEPTH</td><td style = "text-align: left;">m</td><td style = "text-align: left;">Fuel bed depth</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">18</td><td style = "text-align: left;">m_to_ft</td><td style = "text-align: left;"></td><td style = "text-align: left;">Meters to feet conversion (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">19</td><td style = "text-align: left;">D_ref</td><td style = "text-align: left;">m</td><td style = "text-align: left;">Reference depth for non-dimensionalization</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">20</td><td style = "text-align: left;">J_kg_to_Btu_lb</td><td style = "text-align: left;"></td><td style = "text-align: left;">J/kg to Btu/lb conversion (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">21</td><td style = "text-align: left;">STL</td><td style = "text-align: left;"></td><td style = "text-align: left;">Live fuel total mineral content (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">22</td><td style = "text-align: left;">HL</td><td style = "text-align: left;">m² s⁻²</td><td style = "text-align: left;">Live fuel heat of combustion</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">23</td><td style = "text-align: left;">MCHERB</td><td style = "text-align: left;"></td><td style = "text-align: left;">Herbaceous fuel moisture (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">24</td><td style = "text-align: left;">MCWOOD</td><td style = "text-align: left;"></td><td style = "text-align: left;">Woody fuel moisture (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">25</td><td style = "text-align: left;">MXD</td><td style = "text-align: left;"></td><td style = "text-align: left;">Dead fuel moisture of extinction (percent, dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">26</td><td style = "text-align: left;">STD</td><td style = "text-align: left;"></td><td style = "text-align: left;">Dead fuel total mineral content (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">27</td><td style = "text-align: left;">MC1</td><td style = "text-align: left;"></td><td style = "text-align: left;">1-hour fuel moisture (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">28</td><td style = "text-align: left;">MC100</td><td style = "text-align: left;"></td><td style = "text-align: left;">100-hour fuel moisture (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">29</td><td style = "text-align: left;">MC10</td><td style = "text-align: left;"></td><td style = "text-align: left;">10-hour fuel moisture (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">30</td><td style = "text-align: left;">H_ref</td><td style = "text-align: left;">m² s⁻²</td><td style = "text-align: left;">Reference heat content for non-dimensionalization</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">31</td><td style = "text-align: left;">SL</td><td style = "text-align: left;"></td><td style = "text-align: left;">Live fuel silica-free mineral content (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">32</td><td style = "text-align: left;">HD</td><td style = "text-align: left;">m² s⁻²</td><td style = "text-align: left;">Dead fuel heat of combustion</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">33</td><td style = "text-align: left;">SD</td><td style = "text-align: left;"></td><td style = "text-align: left;">Dead fuel silica-free mineral content (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">34</td><td style = "text-align: left;">IR_ref</td><td style = "text-align: left;">kg s⁻³</td><td style = "text-align: left;">Reference reaction intensity for output</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">35</td><td style = "text-align: left;">IR_SI_factor</td><td style = "text-align: left;"></td><td style = "text-align: left;">IR conversion factor (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">36</td><td style = "text-align: left;">fuels_wet</td><td style = "text-align: left;"></td><td style = "text-align: left;">Flag: 1 if fuels wet or snow-covered (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">37</td><td style = "text-align: left;">V_zero</td><td style = "text-align: left;">m s⁻¹</td><td style = "text-align: left;">Zero velocity for conditional expressions</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">38</td><td style = "text-align: left;">V_ref</td><td style = "text-align: left;">m s⁻¹</td><td style = "text-align: left;">Reference velocity for non-dimensionalization</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">39</td><td style = "text-align: left;">WNDFC</td><td style = "text-align: left;"></td><td style = "text-align: left;">Wind reduction factor (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">40</td><td style = "text-align: left;">WS</td><td style = "text-align: left;">m s⁻¹</td><td style = "text-align: left;">20-ft windspeed</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">41</td><td style = "text-align: left;">ms_to_fpm</td><td style = "text-align: left;"></td><td style = "text-align: left;">m/s to ft/min conversion (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">42</td><td style = "text-align: left;">slope_class</td><td style = "text-align: left;"></td><td style = "text-align: left;">NFDRS slope class 1-5 (dimensionless)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">43</td><td style = "text-align: left;">fpm_to_ms</td><td style = "text-align: left;"></td><td style = "text-align: left;">ft/min to m/s conversion (dimensionless)</td></tr></tbody></table></div><h3 id="Energy-Release-Component"><a class="docs-heading-anchor" href="#Energy-Release-Component">Energy Release Component</a><a id="Energy-Release-Component-1"></a><a class="docs-heading-anchor-permalink" href="#Energy-Release-Component" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="WildlandFire.EnergyReleaseComponent"><a class="docstring-binding" href="#WildlandFire.EnergyReleaseComponent"><code>WildlandFire.EnergyReleaseComponent</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">EnergyReleaseComponent(; name=:EnergyReleaseComponent)</code></pre><p>Calculate the NFDRS Energy Release Component (ERC).</p><p>ERC is based on loading-weighted (not surface-area-weighted) calculations. It represents the available energy release per unit area.</p><p>Implements equations from pages 11-12 of Cohen &amp; Deeming (1985).</p><p>The 0.04 scaling factor has units ft²/Btu, so a unit value of ERC is equivalent to 25 Btu of available energy per square foot (page 12).</p><p><strong>Parameters</strong></p><p>Same as SpreadComponent, plus:</p><ul><li><code>W1000</code>: 1000-hour fuel loading (kg/m²)</li><li><code>SG1000</code>: 1000-hour fuel SAV ratio (m⁻¹)</li><li><code>MC1000</code>: 1000-hour fuel moisture (dimensionless)</li></ul><p><strong>Variables</strong></p><ul><li><code>ERC</code>: Energy release component (dimensionless)</li><li><code>IRE</code>: Loading-weighted reaction intensity (W/m²)</li></ul></div></section></details></article><h3 id="Burning-Index"><a class="docs-heading-anchor" href="#Burning-Index">Burning Index</a><a id="Burning-Index-1"></a><a class="docs-heading-anchor-permalink" href="#Burning-Index" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="WildlandFire.BurningIndex"><a class="docstring-binding" href="#WildlandFire.BurningIndex"><code>WildlandFire.BurningIndex</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">BurningIndex(; name=:BurningIndex)</code></pre><p>Calculate the NFDRS Burning Index (BI).</p><p>BI is numerically equivalent to 10 times the predicted flame length in feet, based on Byram&#39;s flame length model (Byram 1959).</p><p>From Cohen &amp; Deeming (1985), page 12:</p><ul><li>FL = 0.45 × I^0.46 (Byram&#39;s equation, FL in ft, I in Btu/ft/s)</li><li>I = (ROS/60) × IRE × TAU = SC × 25 × ERC (after substitution)</li><li>FL = 0.301 × (SC × ERC)^0.46</li><li>BI = 10 × FL = 3.01 × (SC × ERC)^0.46</li></ul><p><strong>Parameters</strong></p><ul><li><code>SC</code>: Spread component (m/s)</li><li><code>ERC</code>: Energy release component (dimensionless)</li><li><code>fuels_wet</code>: Flag: 1 if fuels wet or snow-covered (dimensionless)</li></ul><p><strong>Variables</strong></p><ul><li><code>BI</code>: Burning index (dimensionless)</li></ul></div></section></details></article><p>The Burning Index equation (page 12):</p><pre><code class="language-julia hljs">bi = BurningIndex()
equations(bi)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1-element Vector{Symbolics.Equation}:
 BI(t) ~ ifelse(fuels_wet &gt; <span class="sgr34">0.5</span>, <span class="sgr34">0.0</span>, <span class="sgr34">3.01</span>(max(<span class="sgr34">0.0</span>, (ERC*SC*ms_to_fpm) / V_ref)^<span class="sgr34">0.46</span>))</code></pre><h3 id="Ignition-Component"><a class="docs-heading-anchor" href="#Ignition-Component">Ignition Component</a><a id="Ignition-Component-1"></a><a class="docs-heading-anchor-permalink" href="#Ignition-Component" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="WildlandFire.IgnitionComponent"><a class="docstring-binding" href="#WildlandFire.IgnitionComponent"><code>WildlandFire.IgnitionComponent</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">IgnitionComponent(; name=:IgnitionComponent)</code></pre><p>Calculate the NFDRS Ignition Component (IC).</p><p>From Cohen &amp; Deeming (1985), pages 12-13:</p><ul><li>IC = 0.10 × P(I) × P(F/I)</li></ul><p>P(I) is the probability of ignition, scaled to be 100 at MC1=1.5% and 0 at MC1=25%. P(F/I) is the probability of a reportable fire given ignition.</p><p>The heat of ignition (QIGN) equation is from page 13: QIGN = 144.5 - 0.266×T - 0.00058×T² - 0.01×T×MC1 + 18.54×(1-exp(-0.151×MC1)) + 6.4×MC1 where T is in °C and MC1 is in percent.</p><p><strong>Parameters</strong></p><ul><li><code>TMPPRM</code>: Temperature at fuel-atmosphere interface (K)</li><li><code>MC1</code>: 1-hour fuel moisture content (dimensionless)</li><li><code>SC</code>: Spread component (m/s)</li><li><code>SCM</code>: Spread component threshold for reportable fires (m/s)</li></ul><p><strong>Variables</strong></p><ul><li><code>IC</code>: Ignition component (0-100, dimensionless)</li></ul></div></section></details></article><h2 id="Fire-Occurrence-Indices"><a class="docs-heading-anchor" href="#Fire-Occurrence-Indices">Fire Occurrence Indices</a><a id="Fire-Occurrence-Indices-1"></a><a class="docs-heading-anchor-permalink" href="#Fire-Occurrence-Indices" title="Permalink"></a></h2><h3 id="Human-Caused-Fire-Occurrence-Index"><a class="docs-heading-anchor" href="#Human-Caused-Fire-Occurrence-Index">Human-Caused Fire Occurrence Index</a><a id="Human-Caused-Fire-Occurrence-Index-1"></a><a class="docs-heading-anchor-permalink" href="#Human-Caused-Fire-Occurrence-Index" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="WildlandFire.HumanFireOccurrenceIndex"><a class="docstring-binding" href="#WildlandFire.HumanFireOccurrenceIndex"><code>WildlandFire.HumanFireOccurrenceIndex</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">HumanFireOccurrenceIndex(; name=:HumanFireOccurrenceIndex)</code></pre><p>Calculate the Human-Caused Fire Occurrence Index (MCOI).</p><p>From Cohen &amp; Deeming (1985), page 14: MCOI = 0.01 × MRISK × IC</p><p>The man-caused fire occurrence index relates the ignition component to human-caused fire risk, which is typically derived from historical fire occurrence data.</p><p><strong>Parameters</strong></p><ul><li><code>MRISK</code>: Human-caused risk 0-100 (dimensionless)</li><li><code>IC</code>: Ignition component 0-100 (dimensionless)</li></ul><p><strong>Variables</strong></p><ul><li><code>MCOI</code>: Human-caused fire occurrence index 0-100 (dimensionless)</li></ul></div></section></details></article><h3 id="Lightning-Caused-Fire-Occurrence-Index"><a class="docs-heading-anchor" href="#Lightning-Caused-Fire-Occurrence-Index">Lightning-Caused Fire Occurrence Index</a><a id="Lightning-Caused-Fire-Occurrence-Index-1"></a><a class="docs-heading-anchor-permalink" href="#Lightning-Caused-Fire-Occurrence-Index" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="WildlandFire.LightningFireOccurrenceIndex"><a class="docstring-binding" href="#WildlandFire.LightningFireOccurrenceIndex"><code>WildlandFire.LightningFireOccurrenceIndex</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">LightningFireOccurrenceIndex(; name=:LightningFireOccurrenceIndex)</code></pre><p>Calculate the Lightning-Caused Fire Occurrence Index (LOI).</p><p>The model assumes a thunderstorm traversing an area forms a corridor aligned with the storm&#39;s track that receives both rain and lightning. Flanking the rain-lightning corridor on both sides are areas subjected to lightning only.</p><p>Implements equations from pages 13-14 of Cohen &amp; Deeming (1985).</p><p><strong>Parameters</strong></p><ul><li><code>LAL</code>: NFDRS Lightning Activity Level (1-6)</li><li><code>IC</code>: Ignition component (0-100)</li><li><code>MC1</code>: 1-hour fuel moisture content (dimensionless)</li><li><code>LRSF</code>: Lightning risk scaling factor (site-specific)</li><li><code>YLOI</code>: Previous day&#39;s LOI (for carry-over fires)</li><li><code>STMSPD</code>: Storm translational speed (m/s)</li><li><code>is_raining</code>: Flag (1 if raining at observation time, 0 otherwise)</li><li><code>is_lightning</code>: Flag (1 if lightning occurring, 0 otherwise)</li></ul><p><strong>Variables</strong></p><ul><li><code>LOI</code>: Lightning-caused fire occurrence index (0-100)</li><li><code>LRISK</code>: Lightning risk</li></ul></div></section></details></article><h3 id="Fire-Load-Index"><a class="docs-heading-anchor" href="#Fire-Load-Index">Fire Load Index</a><a id="Fire-Load-Index-1"></a><a class="docs-heading-anchor-permalink" href="#Fire-Load-Index" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="WildlandFire.FireLoadIndex"><a class="docstring-binding" href="#WildlandFire.FireLoadIndex"><code>WildlandFire.FireLoadIndex</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">FireLoadIndex(; name=:FireLoadIndex)</code></pre><p>Calculate the Fire Load Index (FLI).</p><p>From Cohen &amp; Deeming (1985), page 14: FLI = 0.71 × √(BI² + (LOI + MCOI)²)</p><p>FLI combines the Burning Index with fire occurrence indexes to provide a comprehensive measure of the expected fire load.</p><p><strong>Parameters</strong></p><ul><li><code>BI</code>: Burning index 0-100 (dimensionless)</li><li><code>LOI</code>: Lightning fire occurrence index 0-100 (dimensionless)</li><li><code>MCOI</code>: Human-caused fire occurrence index 0-100 (dimensionless)</li></ul><p><strong>Variables</strong></p><ul><li><code>FLI</code>: Fire load index 0-100 (dimensionless)</li></ul></div></section></details></article><p>The Fire Load Index equation (page 14):</p><pre><code class="language-julia hljs">fli = FireLoadIndex()
equations(fli)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1-element Vector{Symbolics.Equation}:
 FLI(t) ~ <span class="sgr34">0.71</span>sqrt(min(<span class="sgr34">100.0</span>, LOI + MCOI)^<span class="sgr34">2</span> + min(<span class="sgr34">100.0</span>, BI)^<span class="sgr34">2</span>)</code></pre><h2 id="Fuel-Models"><a class="docs-heading-anchor" href="#Fuel-Models">Fuel Models</a><a id="Fuel-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Fuel-Models" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="WildlandFire.NFDRSFuelModel"><a class="docstring-binding" href="#WildlandFire.NFDRSFuelModel"><code>WildlandFire.NFDRSFuelModel</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NFDRSFuelModel</code></pre><p>Fuel model parameters for the National Fire Danger Rating System. Uses NamedTuple for lightweight, immutable storage of fuel model parameters.</p><p>All values in SI units:</p><ul><li>Fuel loadings: kg/m²</li><li>SAV ratios: m⁻¹</li><li>Depth: m</li><li>Moisture of extinction: percent (same as original)</li><li>Heat of combustion: J/kg</li><li>SCM (spread component threshold): m/s</li><li>WNDFC: dimensionless</li></ul><p>Parameters converted from Cohen &amp; Deeming (1985), Appendix (page 15).</p></div></section></details></article><article><details class="docstring" open="true"><summary id="WildlandFire.NFDRS_FUEL_MODELS"><a class="docstring-binding" href="#WildlandFire.NFDRS_FUEL_MODELS"><code>WildlandFire.NFDRS_FUEL_MODELS</code></a> — <span class="docstring-category">Constant</span></summary><section><div><pre><code class="language-julia hljs">NFDRS_FUEL_MODELS</code></pre><p>Dictionary of all 20 NFDRS fuel models (A-U, excluding M).</p><p>Parameters converted to SI units from Cohen &amp; Deeming (1985), Appendix (page 15).</p></div></section></details></article><article><details class="docstring" open="true"><summary id="WildlandFire.get_fuel_model"><a class="docstring-binding" href="#WildlandFire.get_fuel_model"><code>WildlandFire.get_fuel_model</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_fuel_model(model::Symbol)</code></pre><p>Get a fuel model by its symbol identifier (A-U).</p><p>Returns a NamedTuple with all fuel model parameters in SI units.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">fm = get_fuel_model(:A)  # Western grasses (annual)
fm.SG1  # 9842.52 (m⁻¹)
fm.W1   # 0.0448 (kg/m²)</code></pre></div></section></details></article><article><details class="docstring" open="true"><summary id="WildlandFire.fuel_loading_to_kg_per_sqm"><a class="docstring-binding" href="#WildlandFire.fuel_loading_to_kg_per_sqm"><code>WildlandFire.fuel_loading_to_kg_per_sqm</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">fuel_loading_to_kg_per_sqm(tons_per_acre)</code></pre><p>Convert fuel loading from tons/acre to kg/m² (SI units).</p><p>The conversion factor is 0.2241702 (kg·acre)/(ton·m²).</p></div></section></details></article><article><details class="docstring" open="true"><summary id="WildlandFire.fuel_loading_to_lb_per_sqft"><a class="docstring-binding" href="#WildlandFire.fuel_loading_to_lb_per_sqft"><code>WildlandFire.fuel_loading_to_lb_per_sqft</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">fuel_loading_to_lb_per_sqft(tons_per_acre)</code></pre><p>DEPRECATED: Use <code>fuel_loading_to_kg_per_sqm</code> instead.</p><p>Convert fuel loading from tons/acre to lb/ft² (old NFDRS internal units).</p></div></section></details></article><h3 id="Available-Fuel-Models"><a class="docs-heading-anchor" href="#Available-Fuel-Models">Available Fuel Models</a><a id="Available-Fuel-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Available-Fuel-Models" title="Permalink"></a></h3><p>The NFDRS includes 20 fuel models representing different vegetation types:</p><pre><code class="language-julia hljs">using WildlandFire

for (code, model) in sort(collect(NFDRS_FUEL_MODELS), by=x-&gt;x[1])
    println(&quot;$code: $(model.description) (depth: $(round(model.DEPTH, digits=3)) m)&quot;)
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">A: Western grasses (annual) (depth: 0.244 m)
B: California chaparral (depth: 1.372 m)
C: Pine-grass savanna (depth: 0.229 m)
D: Southern rough (depth: 0.61 m)
E: Hardwood litter (winter) (depth: 0.122 m)
F: Intermediate brush (depth: 1.372 m)
G: Short needle (heavy dead) (depth: 0.305 m)
H: Short needle (normal dead) (depth: 0.091 m)
I: Heavy slash (depth: 0.61 m)
J: Intermediate slash (depth: 0.396 m)
K: Light slash (depth: 0.183 m)
L: Western grasses (perennial) (depth: 0.305 m)
N: Sawgrass (depth: 0.914 m)
O: High pocosin (depth: 1.219 m)
P: Southern pine plantation (depth: 0.122 m)
Q: Alaskan black spruce (depth: 0.914 m)
R: Hardwood litter (summer) (depth: 0.076 m)
S: Tundra (depth: 0.122 m)
T: Sagebrush-grass (depth: 0.381 m)
U: Western pines (depth: 0.152 m)</code></pre><h3 id="Fuel-Model-Parameters-Table-(Original-Units)"><a class="docs-heading-anchor" href="#Fuel-Model-Parameters-Table-(Original-Units)">Fuel Model Parameters Table (Original Units)</a><a id="Fuel-Model-Parameters-Table-(Original-Units)-1"></a><a class="docs-heading-anchor-permalink" href="#Fuel-Model-Parameters-Table-(Original-Units)" title="Permalink"></a></h3><p>The following table reproduces the fuel model parameters from the Appendix of Cohen &amp; Deeming (1985), page 15, in their <strong>original imperial units</strong> for reference. The implementation converts these to SI units automatically.</p><table><tr><th style="text-align: right">Model</th><th style="text-align: right">Description</th><th style="text-align: right">SG1 (ft⁻¹)</th><th style="text-align: right">W1 (t/ac)</th><th style="text-align: right">SG10</th><th style="text-align: right">W10</th><th style="text-align: right">Depth (ft)</th><th style="text-align: right">MXD (%)</th><th style="text-align: right">HD (Btu/lb)</th><th style="text-align: right">SCM (ft/min)</th><th style="text-align: right">WNDFC</th></tr><tr><td style="text-align: right">A</td><td style="text-align: right">Western grasses (annual)</td><td style="text-align: right">3000</td><td style="text-align: right">0.20</td><td style="text-align: right">109</td><td style="text-align: right">0.0</td><td style="text-align: right">0.80</td><td style="text-align: right">15</td><td style="text-align: right">8000</td><td style="text-align: right">300</td><td style="text-align: right">0.6</td></tr><tr><td style="text-align: right">B</td><td style="text-align: right">California chaparral</td><td style="text-align: right">700</td><td style="text-align: right">3.50</td><td style="text-align: right">109</td><td style="text-align: right">4.0</td><td style="text-align: right">4.50</td><td style="text-align: right">15</td><td style="text-align: right">9500</td><td style="text-align: right">58</td><td style="text-align: right">0.5</td></tr><tr><td style="text-align: right">C</td><td style="text-align: right">Pine-grass savanna</td><td style="text-align: right">2000</td><td style="text-align: right">0.40</td><td style="text-align: right">109</td><td style="text-align: right">1.0</td><td style="text-align: right">0.75</td><td style="text-align: right">20</td><td style="text-align: right">8000</td><td style="text-align: right">32</td><td style="text-align: right">0.4</td></tr><tr><td style="text-align: right">D</td><td style="text-align: right">Southern rough</td><td style="text-align: right">1250</td><td style="text-align: right">2.00</td><td style="text-align: right">109</td><td style="text-align: right">1.0</td><td style="text-align: right">2.00</td><td style="text-align: right">30</td><td style="text-align: right">9000</td><td style="text-align: right">25</td><td style="text-align: right">0.4</td></tr><tr><td style="text-align: right">E</td><td style="text-align: right">Hardwood litter (winter)</td><td style="text-align: right">2000</td><td style="text-align: right">1.50</td><td style="text-align: right">109</td><td style="text-align: right">0.5</td><td style="text-align: right">0.40</td><td style="text-align: right">25</td><td style="text-align: right">8000</td><td style="text-align: right">25</td><td style="text-align: right">0.4</td></tr><tr><td style="text-align: right">F</td><td style="text-align: right">Intermediate brush</td><td style="text-align: right">700</td><td style="text-align: right">2.50</td><td style="text-align: right">109</td><td style="text-align: right">2.0</td><td style="text-align: right">4.50</td><td style="text-align: right">15</td><td style="text-align: right">9500</td><td style="text-align: right">24</td><td style="text-align: right">0.5</td></tr><tr><td style="text-align: right">G</td><td style="text-align: right">Short needle (heavy dead)</td><td style="text-align: right">2000</td><td style="text-align: right">2.50</td><td style="text-align: right">109</td><td style="text-align: right">2.0</td><td style="text-align: right">1.00</td><td style="text-align: right">25</td><td style="text-align: right">8000</td><td style="text-align: right">30</td><td style="text-align: right">0.4</td></tr><tr><td style="text-align: right">H</td><td style="text-align: right">Short needle (normal dead)</td><td style="text-align: right">2000</td><td style="text-align: right">1.50</td><td style="text-align: right">109</td><td style="text-align: right">1.0</td><td style="text-align: right">0.30</td><td style="text-align: right">20</td><td style="text-align: right">8000</td><td style="text-align: right">8</td><td style="text-align: right">0.4</td></tr><tr><td style="text-align: right">I</td><td style="text-align: right">Heavy slash</td><td style="text-align: right">1500</td><td style="text-align: right">12.0</td><td style="text-align: right">109</td><td style="text-align: right">12.0</td><td style="text-align: right">2.00</td><td style="text-align: right">25</td><td style="text-align: right">8000</td><td style="text-align: right">65</td><td style="text-align: right">0.5</td></tr><tr><td style="text-align: right">J</td><td style="text-align: right">Intermediate slash</td><td style="text-align: right">1500</td><td style="text-align: right">7.00</td><td style="text-align: right">109</td><td style="text-align: right">7.0</td><td style="text-align: right">1.30</td><td style="text-align: right">25</td><td style="text-align: right">8000</td><td style="text-align: right">44</td><td style="text-align: right">0.5</td></tr><tr><td style="text-align: right">K</td><td style="text-align: right">Light slash</td><td style="text-align: right">1500</td><td style="text-align: right">2.50</td><td style="text-align: right">109</td><td style="text-align: right">2.5</td><td style="text-align: right">0.60</td><td style="text-align: right">25</td><td style="text-align: right">8000</td><td style="text-align: right">23</td><td style="text-align: right">0.5</td></tr><tr><td style="text-align: right">L</td><td style="text-align: right">Western grasses (perennial)</td><td style="text-align: right">2000</td><td style="text-align: right">0.25</td><td style="text-align: right">109</td><td style="text-align: right">0.0</td><td style="text-align: right">1.00</td><td style="text-align: right">15</td><td style="text-align: right">8000</td><td style="text-align: right">178</td><td style="text-align: right">0.6</td></tr><tr><td style="text-align: right">N</td><td style="text-align: right">Sawgrass</td><td style="text-align: right">1600</td><td style="text-align: right">1.50</td><td style="text-align: right">109</td><td style="text-align: right">3.0</td><td style="text-align: right">3.00</td><td style="text-align: right">25</td><td style="text-align: right">8700</td><td style="text-align: right">167</td><td style="text-align: right">0.6</td></tr><tr><td style="text-align: right">O</td><td style="text-align: right">High pocosin</td><td style="text-align: right">1500</td><td style="text-align: right">2.00</td><td style="text-align: right">109</td><td style="text-align: right">1.0</td><td style="text-align: right">4.00</td><td style="text-align: right">30</td><td style="text-align: right">9000</td><td style="text-align: right">99</td><td style="text-align: right">0.5</td></tr><tr><td style="text-align: right">P</td><td style="text-align: right">Southern pine plantation</td><td style="text-align: right">1750</td><td style="text-align: right">1.00</td><td style="text-align: right">109</td><td style="text-align: right">2.5</td><td style="text-align: right">0.40</td><td style="text-align: right">30</td><td style="text-align: right">8000</td><td style="text-align: right">14</td><td style="text-align: right">0.4</td></tr><tr><td style="text-align: right">Q</td><td style="text-align: right">Alaskan black spruce</td><td style="text-align: right">1500</td><td style="text-align: right">2.00</td><td style="text-align: right">109</td><td style="text-align: right">0.5</td><td style="text-align: right">3.00</td><td style="text-align: right">25</td><td style="text-align: right">8000</td><td style="text-align: right">59</td><td style="text-align: right">0.4</td></tr><tr><td style="text-align: right">R</td><td style="text-align: right">Hardwood litter (summer)</td><td style="text-align: right">1500</td><td style="text-align: right">0.50</td><td style="text-align: right">109</td><td style="text-align: right">0.5</td><td style="text-align: right">0.25</td><td style="text-align: right">25</td><td style="text-align: right">8000</td><td style="text-align: right">6</td><td style="text-align: right">0.4</td></tr><tr><td style="text-align: right">S</td><td style="text-align: right">Tundra</td><td style="text-align: right">1500</td><td style="text-align: right">0.50</td><td style="text-align: right">109</td><td style="text-align: right">0.5</td><td style="text-align: right">0.40</td><td style="text-align: right">25</td><td style="text-align: right">8000</td><td style="text-align: right">17</td><td style="text-align: right">0.6</td></tr><tr><td style="text-align: right">T</td><td style="text-align: right">Sagebrush-grass</td><td style="text-align: right">2500</td><td style="text-align: right">1.00</td><td style="text-align: right">109</td><td style="text-align: right">1.5</td><td style="text-align: right">1.25</td><td style="text-align: right">15</td><td style="text-align: right">8000</td><td style="text-align: right">73</td><td style="text-align: right">0.6</td></tr><tr><td style="text-align: right">U</td><td style="text-align: right">Western pines</td><td style="text-align: right">1750</td><td style="text-align: right">1.50</td><td style="text-align: right">109</td><td style="text-align: right">1.0</td><td style="text-align: right">0.50</td><td style="text-align: right">20</td><td style="text-align: right">8000</td><td style="text-align: right">16</td><td style="text-align: right">0.4</td></tr></table><p>Notes:</p><ul><li>SG1, SG10: Surface-area-to-volume ratio (ft⁻¹) → converted to m⁻¹ by multiplying by 3.28084</li><li>W1, W10: Fuel loading (tons/acre) → converted to kg/m² by multiplying by 0.2241702</li><li>MXD: Dead fuel moisture of extinction (percent) - unchanged</li><li>HD: Heat of combustion (Btu/lb) → converted to J/kg by multiplying by 2326.0</li><li>SCM: Spread component threshold (ft/min) → converted to m/s by multiplying by 0.00508</li><li>WNDFC: Wind reduction factor (dimensionless) - unchanged</li></ul><h2 id="Analysis"><a class="docs-heading-anchor" href="#Analysis">Analysis</a><a id="Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Analysis" title="Permalink"></a></h2><p>This section validates the implementation against expected values from Cohen &amp; Deeming (1985) and demonstrates the behavior of the NFDRS components.</p><h3 id="EMC-Validation-(Eq.-1a,-1b,-1c,-page-1)"><a class="docs-heading-anchor" href="#EMC-Validation-(Eq.-1a,-1b,-1c,-page-1)">EMC Validation (Eq. 1a, 1b, 1c, page 1)</a><a id="EMC-Validation-(Eq.-1a,-1b,-1c,-page-1)-1"></a><a class="docs-heading-anchor-permalink" href="#EMC-Validation-(Eq.-1a,-1b,-1c,-page-1)" title="Permalink"></a></h3><p>The equilibrium moisture content equations calculate EMC based on temperature and relative humidity. The implementation uses SI units (temperature in Kelvin, RH as fraction 0-1).</p><pre><code class="language-julia hljs">using WildlandFire
using ModelingToolkit
using OrdinaryDiffEqDefault
using Plots

# Create and compile the EMC system
emc_sys = EquilibriumMoistureContent()
compiled_emc = mtkcompile(emc_sys)

# Helper function to compute EMC for given temperature (°F) and RH (%)
function compute_emc(temp_f, rh_pct)
    # Convert °F to K: K = (°F + 459.67) × 5/9
    temp_k = (temp_f + 459.67) * 5 / 9
    rh_frac = rh_pct / 100.0

    prob = ODEProblem(compiled_emc,
        Dict(compiled_emc.TEMP =&gt; temp_k, compiled_emc.RH =&gt; rh_frac),
        (0.0, 1.0))
    sol = solve(prob)
    return sol[compiled_emc.EMC][end] * 100  # Convert fraction to %
end

# Test cases from Cohen &amp; Deeming (1985)
println(&quot;EMC Validation at T=70°F:&quot;)
println(&quot;  RH=5% (Eq. 1a):  EMC = $(round(compute_emc(70.0, 5.0), digits=2))%&quot;)
println(&quot;  RH=30% (Eq. 1b): EMC = $(round(compute_emc(70.0, 30.0), digits=2))%&quot;)
println(&quot;  RH=80% (Eq. 1c): EMC = $(round(compute_emc(70.0, 80.0), digits=2))%&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">EMC Validation at T=70°F:
  RH=5% (Eq. 1a):  EMC = 1.24%
  RH=30% (Eq. 1b): EMC = 6.0%
  RH=80% (Eq. 1c): EMC = 16.06%</code></pre><p>The following plot shows EMC as a function of relative humidity at 70°F, demonstrating the three humidity regimes:</p><pre><code class="language-julia hljs">rh_range = 1:99
emc_values = [compute_emc(70.0, rh) for rh in rh_range]

p = plot(rh_range, emc_values,
    xlabel = &quot;Relative Humidity (%)&quot;,
    ylabel = &quot;EMC (%)&quot;,
    title = &quot;Equilibrium Moisture Content at 70°F&quot;,
    legend = false,
    linewidth = 2)

# Mark the regime boundaries
vline!(p, [10, 50], linestyle=:dash, color=:gray, label=&quot;&quot;)
annotate!(p, [(5, 15, text(&quot;Eq. 1a&quot;, 8)),
              (30, 15, text(&quot;Eq. 1b&quot;, 8)),
              (75, 15, text(&quot;Eq. 1c&quot;, 8))])
p</code></pre><img src="901f2eab.svg" alt="Example block output"/><h3 id="EMC-Temperature-Sensitivity"><a class="docs-heading-anchor" href="#EMC-Temperature-Sensitivity">EMC Temperature Sensitivity</a><a id="EMC-Temperature-Sensitivity-1"></a><a class="docs-heading-anchor-permalink" href="#EMC-Temperature-Sensitivity" title="Permalink"></a></h3><p>EMC decreases with increasing temperature at constant humidity:</p><pre><code class="language-julia hljs">temps_f = 40:10:100
rh_values = [30, 50, 70]

p = plot(xlabel = &quot;Temperature (°F)&quot;,
         ylabel = &quot;EMC (%)&quot;,
         title = &quot;EMC Temperature Sensitivity&quot;,
         legend = :topright)

for rh in rh_values
    emc_vals = [compute_emc(t, rh) for t in temps_f]
    plot!(p, temps_f, emc_vals, label=&quot;RH=$rh%&quot;, linewidth=2)
end
p</code></pre><img src="a06fb874.svg" alt="Example block output"/><h3 id="Burning-Index-Validation-(page-12)"><a class="docs-heading-anchor" href="#Burning-Index-Validation-(page-12)">Burning Index Validation (page 12)</a><a id="Burning-Index-Validation-(page-12)-1"></a><a class="docs-heading-anchor-permalink" href="#Burning-Index-Validation-(page-12)" title="Permalink"></a></h3><p>The Burning Index (BI) is calculated from the Spread Component and Energy Release Component:</p><p>BI = 3.01 × (SC × ERC)^0.46</p><p>where SC is in ft/min for the original equation.</p><pre><code class="language-julia hljs">using WildlandFire
using ModelingToolkit
using OrdinaryDiffEqDefault
using Plots

bi_sys = BurningIndex()
compiled_bi = mtkcompile(bi_sys)

# Conversion factor: m/s to ft/min
FPM_TO_MS = 0.00508

# Calculate BI for various SC and ERC combinations
function compute_bi(sc_fpm, erc)
    sc_ms = sc_fpm * FPM_TO_MS
    prob = ODEProblem(compiled_bi,
        Dict(compiled_bi.SC =&gt; sc_ms, compiled_bi.ERC =&gt; erc, compiled_bi.fuels_wet =&gt; 0.0),
        (0.0, 1.0))
    sol = solve(prob)
    return sol[compiled_bi.BI][end]
end

# Validate at SC=50 ft/min, ERC=20
expected_bi = 3.01 * (50.0 * 20.0)^0.46
computed_bi = compute_bi(50.0, 20.0)
println(&quot;BI Validation:&quot;)
println(&quot;  SC=50 ft/min, ERC=20&quot;)
println(&quot;  Expected: $(round(expected_bi, digits=1))&quot;)
println(&quot;  Computed: $(round(computed_bi, digits=1))&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">BI Validation:
  SC=50 ft/min, ERC=20
  Expected: 72.2
  Computed: 72.2</code></pre><p>BI contour plot showing the relationship between SC, ERC, and fire behavior intensity:</p><pre><code class="language-julia hljs">sc_range = 10:10:100
erc_range = 5:5:50
bi_matrix = [compute_bi(sc, erc) for erc in erc_range, sc in sc_range]

contourf(sc_range, erc_range, bi_matrix,
    xlabel = &quot;Spread Component (ft/min)&quot;,
    ylabel = &quot;Energy Release Component&quot;,
    title = &quot;Burning Index&quot;,
    colorbar_title = &quot;BI&quot;,
    levels = 10)</code></pre><img src="089bd731.svg" alt="Example block output"/><h3 id="Fire-Load-Index-Validation-(page-14)"><a class="docs-heading-anchor" href="#Fire-Load-Index-Validation-(page-14)">Fire Load Index Validation (page 14)</a><a id="Fire-Load-Index-Validation-(page-14)-1"></a><a class="docs-heading-anchor-permalink" href="#Fire-Load-Index-Validation-(page-14)" title="Permalink"></a></h3><p>The Fire Load Index combines the Burning Index with fire occurrence indices:</p><p>FLI = 0.71 × √(BI² + (LOI + MCOI)²)</p><pre><code class="language-julia hljs">using WildlandFire
using ModelingToolkit
using OrdinaryDiffEqDefault

fli_sys = FireLoadIndex()
compiled_fli = mtkcompile(fli_sys)

# Test case from Cohen &amp; Deeming (1985)
prob = ODEProblem(compiled_fli,
    Dict(compiled_fli.BI =&gt; 50.0, compiled_fli.LOI =&gt; 30.0, compiled_fli.MCOI =&gt; 20.0),
    (0.0, 1.0))
sol = solve(prob)
computed_fli = sol[compiled_fli.FLI][end]
expected_fli = 0.71 * sqrt(50.0^2 + (30.0 + 20.0)^2)

println(&quot;FLI Validation:&quot;)
println(&quot;  BI=50, LOI=30, MCOI=20&quot;)
println(&quot;  Expected: $(round(expected_fli, digits=1))&quot;)
println(&quot;  Computed: $(round(computed_fli, digits=1))&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">FLI Validation:
  BI=50, LOI=30, MCOI=20
  Expected: 50.2
  Computed: 50.2</code></pre><h3 id="Fuel-Model-Comparison"><a class="docs-heading-anchor" href="#Fuel-Model-Comparison">Fuel Model Comparison</a><a id="Fuel-Model-Comparison-1"></a><a class="docs-heading-anchor-permalink" href="#Fuel-Model-Comparison" title="Permalink"></a></h3><p>Different fuel models have varying fuel bed depths and loadings, affecting fire behavior:</p><pre><code class="language-julia hljs">using WildlandFire
using Plots

models = collect(values(NFDRS_FUEL_MODELS))
sort!(models, by=m -&gt; m.DEPTH)

p = bar([string(m.name) for m in models], [m.DEPTH for m in models],
    xlabel = &quot;Fuel Model&quot;,
    ylabel = &quot;Fuel Bed Depth (m)&quot;,
    title = &quot;NFDRS Fuel Model Bed Depths (Cohen &amp; Deeming 1985, Appendix)&quot;,
    legend = false,
    rotation = 45)
p</code></pre><img src="62fb2005.svg" alt="Example block output"/><h3 id="Dead-Fuel-Loading-Comparison"><a class="docs-heading-anchor" href="#Dead-Fuel-Loading-Comparison">Dead Fuel Loading Comparison</a><a id="Dead-Fuel-Loading-Comparison-1"></a><a class="docs-heading-anchor-permalink" href="#Dead-Fuel-Loading-Comparison" title="Permalink"></a></h3><p>Comparison of total dead fuel loadings (1-hr + 10-hr + 100-hr) across different NFDRS fuel models:</p><pre><code class="language-julia hljs">using WildlandFire
using Plots

models = collect(values(NFDRS_FUEL_MODELS))
sort!(models, by=m -&gt; m.W1 + m.W10 + m.W100)

# Total dead fuel loading (1-hr + 10-hr + 100-hr)
dead_loading = [m.W1 + m.W10 + m.W100 for m in models]

p = bar([string(m.name) for m in models], dead_loading,
    xlabel = &quot;Fuel Model&quot;,
    ylabel = &quot;Dead Fuel Loading (kg/m²)&quot;,
    title = &quot;NFDRS Dead Fuel Loading by Model&quot;,
    legend = false,
    rotation = 45)
p</code></pre><img src="2437d457.svg" alt="Example block output"/><h3 id="Heat-Content-Comparison"><a class="docs-heading-anchor" href="#Heat-Content-Comparison">Heat Content Comparison</a><a id="Heat-Content-Comparison-1"></a><a class="docs-heading-anchor-permalink" href="#Heat-Content-Comparison" title="Permalink"></a></h3><p>Different fuel models have varying heat content values reflecting their chemical composition:</p><pre><code class="language-julia hljs">models = collect(values(NFDRS_FUEL_MODELS))
sort!(models, by=m -&gt; m.HD)

p = bar([string(m.name) for m in models], [m.HD / 1e6 for m in models],
    xlabel = &quot;Fuel Model&quot;,
    ylabel = &quot;Heat of Combustion (MJ/kg)&quot;,
    title = &quot;NFDRS Dead Fuel Heat Content&quot;,
    legend = false,
    rotation = 45,
    ylims = (17, 23))
p</code></pre><img src="a356b4df.svg" alt="Example block output"/><h3 id="Fuel-Loading-Transfer-2"><a class="docs-heading-anchor" href="#Fuel-Loading-Transfer-2">Fuel Loading Transfer</a><a class="docs-heading-anchor-permalink" href="#Fuel-Loading-Transfer-2" title="Permalink"></a></h3><p>The fuel loading transfer model (Eq. 5-8) calculates the fraction of herbaceous fuel that behaves as dead fuel based on the herbaceous moisture content:</p><pre><code class="language-julia hljs">using WildlandFire
using ModelingToolkit
using OrdinaryDiffEqDefault
using Plots

flt_sys = FuelLoadingTransfer()
compiled_flt = mtkcompile(flt_sys)

# Calculate FCTCUR across the moisture range
function compute_fctcur(mcherb_frac)
    prob = ODEProblem(compiled_flt,
        Dict(compiled_flt.MCHERB =&gt; mcherb_frac,
             compiled_flt.W1 =&gt; 0.05,
             compiled_flt.WHERB =&gt; 0.02),
        (0.0, 1.0))
    sol = solve(prob)
    return sol[compiled_flt.FCTCUR][end]
end

mcherb_range = 0.30:0.01:1.30
fctcur_values = [compute_fctcur(mc) for mc in mcherb_range]

plot(mcherb_range .* 100, fctcur_values .* 100,
    xlabel = &quot;Herbaceous Moisture Content (%)&quot;,
    ylabel = &quot;Fraction Transferred to Dead (%)&quot;,
    title = &quot;Fuel Loading Transfer (Eq. 5)&quot;,
    legend = false,
    linewidth = 2)</code></pre><img src="8792393b.svg" alt="Example block output"/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../rothermel/">Rothermel Fire Spread Model »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Saturday 31 January 2026 18:40">Saturday 31 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
